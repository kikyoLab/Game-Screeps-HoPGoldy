# 自动运营设计案（设计阶段）

# 自动选址

弱决策，会在完成搜索后将推荐的点位（同时存在很多个）保存为 flag，并将预选点位设置为指定颜色，玩家可以通过修改 flag 的颜色和位置来修改自动选址的结果。

# 自动布局

自动布局分为自动建筑摆放和自动墙体摆放

- 建筑摆放将在 controller 升级触发、房间命令手动触发、全局缓存清除时触发（防止房间被攻击后有建筑损毁）。
- 自动墙体摆放是房间内能量足够时会触发墙体摆放，每次只新增几个墙体，逐渐的将基地包围起来，完成之后将会停止检查，并在全局缓存清除时触发检查。

# 自动 creep 发布

- 刚 claim 控制器后根据 source 空位数量 1:1 发布 harvester 和 upgrader。
- upgrader0 在死亡时会运行 upgrader 规划，重新调整能量获取来源和数量。
- 

运营 creep 的改变时因为房间的状态发生了变化，例如：

- sourceLink 建成 > 对应 source harvester 的目标存放位置发生改变
- storage 建成 > upgrader 的能量来源改变
- storage 中能量数量变化 > 调整 upgrader 的数量

经过观察可以得出如下总结:

**房间中的运营角色**

harvester、collector、upgrader、transfer、centerTransfer

**会引发 creep 改变的触发条件**

房间占领、link 建成及摧毁、terminal 建成及摧毁、extractor 建成及摧毁、storage 建成及摧毁、storage 能量变化、terminal 能量变化。